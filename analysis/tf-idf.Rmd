---
title: "TF-IDF Analysis"
author: "Nathanael Aff"
output: 
  html_document:
    code_folding: hide
---

```{r read-chunk, include=FALSE}
knitr::read_chunk(here::here("code", "chunk-options.R"))
```
```{r knitr-opts-chunk, include=FALSE}
```

<!-- Insert last update and git version -->

```{r last-updated, echo=FALSE, results='asis'}
```

```{r code-version, echo=FALSE, results='asis'}
```

# Color 

Retrieving set inventory (or sample of) from database. Update to CSV file if included in the example.

# Compute TF-IDF

Here we compute TF-IDF scores for the all documents and colors. There are only 125 colors, the 'words' in our dictionary but the relative frequency of their occurence varies widely. (See relative frequency plot). 

**TF-IDF Formula** 

\[
  TF = 3 + 3
\]

\[
  IDF =
\]
And TF IDF equals

Low and high frequency terms.

```{r read-tf-idf }
devtools::load_all()
load_data(sample_data = FALSE)
knitr::read_chunk(here::here("code", "tf-idf.R"))
```

This code follows the code in [tidytext mining](link-todo.html)

```{r compute-tf-idf }

```


```{r top-tf-idf-plot, fig.cap="Top 10 TF-IDF set-color combinations"}

```

Here are a few sample sets from the top TF-IDF sets.

```{r top-tf-idf-sets, fig.height = 7, fig.width = 5, out.width = '80%'}
```

We can also look at the set and color pairs that have the lowest TF-IDF scores. These should be colors that are common or that don't serve to distinguish the sets to which the color belongs. If we were dealing with a text corpus these might be candidates for joining a list of stop words -- common words that are removed from the analysis because they are too frequently used to distinguish documents. The lego set has only 125 colors, including transparent variations. With so few colors I did not remove any 'stop colors'. 

Here are a few sample sets from the top TF-IDF sets.


```{r low-tf-idf-plot }
```

```{r low-tf-idf-set }
```


```{r low-tf-idf-plots1, fig.width = 6, fig.height = 9, out.width = '90%'}
```

